---
categories: Posts
date: 2014-08-01 00:00:00
title: HDU 1754 - I Hate It
tags: []
layout: post
---

#  [HDU 1754 - I Hate It](/2014/08/HDU-1754/ "HDU 1754 - I Hate It")

By [MyCodeBattle](http://mycodebattle.gitcafe.io/about "MyCodeBattle")

Published Aug 25 2014 19:47

**Contents**

  1. 1. 传送门
  2. 2. 思路
  3. 3. 代码

## 传送门

[HDU 1754 - I Hate It](http://www.bnuoj.com/v3/problem_show.php?pid=5932)

## 思路

照着别人的代码写了一遍

## 代码
    
    
    123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102

| 
    
    
    #include <cstdio>#include <cstring>#include <algorithm>#include <map>#include <queue>#include <cctype>#define MP(a, b) make_pair(a, b)using namespace std;const int MAXN = 2e5 + 5;const int INF = 0x3f3f3f3f; struct SEG{    int l, r, vmax;}segt[MAXN << 2]; inline int ReadInt(){    static int r, sign;    static char ch;    r = 0, sign = 1;    while ((ch = getchar()) && !isdigit(ch));    if (ch == '-')        sign = -1, ch = getchar();    while (isdigit(ch))        r = r * 10 + ch - '0', ch = getchar();    return sign * r;} void PushUp(int cur){    segt[cur].vmax = max(segt[cur << 1].vmax, segt[cur << 1 | 1].vmax);} void Build(int cur, int l, int r){    segt[cur].l = l, segt[cur].r = r;    if (l == r)    {        segt[cur].vmax = ReadInt();        return;    }    int mid = l + ((r - l) >> 1);    Build(cur << 1, l, mid);    Build(cur << 1 | 1, mid + 1, r);    PushUp(cur);} int Query(int cur, int l, int r){    int ans = -1, x = -1, y = -1;    int mid = segt[cur].l + ((segt[cur].r - segt[cur].l) >> 1);    if (segt[cur].l == l && segt[cur].r == r)        return segt[cur].vmax;    if (r <= mid)        ans = max(Query(cur << 1, l, r), ans);    else if (l > mid)        ans = max(ans, Query(cur << 1 | 1, l, r));    else    {        x = Query(cur << 1, l, mid);        y = Query(cur << 1 | 1, mid + 1, r);    }    return max(ans, max(x, y));} void Update(int cur, int pos, int val){    int mid = segt[cur].l + ((segt[cur].r - segt[cur].l) >> 1);    if (segt[cur].l == pos && segt[cur].r == pos)    {        segt[cur].vmax = val;        return;    }    if (pos <= mid)        Update(cur << 1, pos, val);    else        Update(cur << 1 | 1, pos, val);    PushUp(cur);} int main(){    //freopen("input.txt", "r", stdin);    int nstu, nq, i, j;    while (~scanf("%d%d", &nstu, &nq))    {        Build(1, 1, nstu);        while (nq--)        {            int a, b;            char str[10];            scanf("%s%d%d", str, &a, &b);            if (str[0] == 'Q')                printf("%d\n", Query(1, a, b));            else                Update(1, a, b);        }            }    return 0;}  
  
---|---  
  
[Solving Reports](/categories/Solving-Reports/)

[Online Judge - HDU](/tags/Online-Judge-HDU/)[Data Structure - Seg Tree](/tags/Data-Structure-Seg-Tree/)

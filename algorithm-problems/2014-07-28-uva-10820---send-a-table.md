---
categories: Posts
date: 2014-07-28 00:00:00
title: UVa 10820 - Send a Table
tags: []
layout: post
---

## 传送门

[UVa 10820 - Send a Table](http://uva.onlinejudge.org/index.php?option=com_onlinejudge&Itemid=8&page=show_problem&category=115&problem=1761&mosmsg=Submission+received+with+ID+13958692)

## 题意

求[1, N]内互质数的数量。

## 思路

学习了Farey数列和欧拉函数。

Farey数列

$$ \left| F_{n}\right| =\left| F_{n-1}\right| +\varphi \left( n\right) $$

$$ \left| F_{n}\right| =1+\sum _{m=1}^{n}\varphi \left( m\right) $$

因为数列中包括$(0, 1)$，而且$(1,1)$被多算了一次，所以答案就是$sum[n] * 2 - 3$

## 代码


```c++
#include <bits/stdc++.h>
using namespace std;
const int MAXN = 50000 + 100;
const int INF = 0x3f3f3f3f;
 
int phi[MAXN], sum[MAXN];
 
void PHI_Table()
{
    for (int i = 2; i < MAXN; ++i)
        if (!phi[i])
            for (int j = i; j < MAXN; j += i)
            {
                if (!phi[j])
                    phi[j] = j;
                phi[j] = phi[j] / i * (i - 1);
            }
}
 
int main()
{
    int n;
    PHI_Table();
    sum[0] = 1, phi[1] = 1;
    for (int i = 1; i <= MAXN; i++)
        sum[i] = sum[i - 1] + phi[i];
    while (~scanf("%d", &n), n)
        printf("%d\n", 2 * sum[n] - 3);
    return 0;
}
```
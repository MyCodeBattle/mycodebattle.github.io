---
title: Redis 源码阅读 - 整数集合
categories: Redis
date: 2016-04-16
layout: post
---

整数集合是有序的，不包含重复元素的。
当一个集合就包含整数值元素，并且这个集合的元素数量不多时， Redis 就会使用整数集合作为集合键的底层实现。

# 整数集合的实现

# 升级

当新加入的元素的类型比现有的都大时，就会引发升级。
简单地说就是重新申请一些空间，然后把旧的元素放到正确的位置上。

这里作者又在扯淡了。
作者说引发升级的元素值要最大，要么最小，自己前面又说是类型最大。

# 降级

整数集合不支持降级。

没啦。
